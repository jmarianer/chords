
<html>
  <head>
    <style>
      .fret {
        stroke: #ccc;
        stroke-width: 3px;
      }
      .string, .frame {
        stroke: black;
        fill: none;
      }
    </style>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script>
      $(() => {
        $('.chord_diagram').each(function(_, elt) {
          elt = $(elt);
          frets = elt.text().split(' ');
          strings = frets.length;

          max_fret = 4;
          for (let i = 0; i < strings; i++) {
            if (max_fret < frets[i])
              max_fret = frets[i];
          }

          let svg = '<svg width="67px" viewBox="-5 0 67 87" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">';
          for (let i = 1; i < max_fret; i++) {
            svg += '<path class="fret" d="M0,Y LX,Y" />'.replace(/X/g, (strings-1)*9).replace(/Y/g, i*10+5);
          }
          svg += '<path class="frame" d="M2,2 LX2,2 CX1,2 X0,3 X0,4 LX0,Y L0,Y L0,4 C0,3 1,2 2,2 Z" />'.replace(/X./g, (foo) => (strings-1)*9 - foo[1]).replace(/Y/g, max_fret*10+4);
          svg += '<path class="frame" d="M0,6 LX,6" />'.replace(/X/g, (strings-1)*9);
          for (let i = 1; i < strings-1; i++) {
            svg += '<path class="string" d="MX,6 LX,Y" />'.replace(/X/g, i*9).replace(/Y/g, max_fret*10+4);
          }
          for (let i = 0; i < strings; i++) {
            if (frets[i] != 0)
              svg += '<circle cx="X" cy="Y" r="3" />'.replace(/X/g, i*9).replace(/Y/g, frets[i]*10);
          }
          svg += '</svg>';

          elt.html(svg);
        });
      });
    </script>
  </head>
  <body>
    G
    <div class="chord_diagram">3 2 0 0 3 3</div>
    E
    <div class="chord_diagram">0 2 2 1 0 0</div>
    E6
    <div class="chord_diagram">0 2 2 1 2 0</div>
    E7
    <div class="chord_diagram">0 2 2 1 3 0</div>
    F#m
    <div class="chord_diagram">2 4 4 2 2 2</div>
    <hr />
    Uke: <br />
    C
    <div class="chord_diagram">0 0 0 3</div>
    F
    <div class="chord_diagram">2 0 1 0</div>
    G
    <div class="chord_diagram">0 2 3 2</div>
    G7
    <div class="chord_diagram">0 2 1 2</div>
  </body>
</html>
